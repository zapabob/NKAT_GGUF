# 統合NKAT GGUF処理システム v1.0

## 概要

このシステムは、3つの先進的なGGUF処理技術を統合した包括的なソリューションです：

- **Practical Kolmogorov System** - 実用的なコルモゴロフ理論適用
- **Final Kolmogorov Integration** - 最終統合コルモゴロフシステム  
- **Colab NKAT Integration** - 非可換代数テンソル理論統合

## 主要機能

### 🎨 GUI機能
- **ドラッグ&ドロップ対応** - GGUFファイルを直接ドロップして処理
- **プリセット管理** - JSONベースの設定プリセット自動保存/読込
- **ファイル位置記憶** - 最後に使用したディレクトリを自動記憶
- **リアルタイムログ** - 処理状況をリアルタイム表示
- **統計表示** - 処理結果の詳細統計

### 🔄 自動バックアップ
- **自動バックアップ** - 処理前に元ファイルを自動バックアップ
- **世代管理** - 設定可能な最大バックアップ数で古いファイルを自動削除
- **タイムスタンプ付き** - ファイル名にタイムスタンプを自動付与

### ⚙️ 高度な設定
- **CUDA対応** - RTX3080での高速並列処理
- **64bit精度** - 高精度計算対応
- **電源断リカバリー** - 処理中断からの自動復旧
- **マルチスレッド** - 複数ファイルの並列処理

## インストールと起動

### 1. 必要な依存関係

```bash
py -3 -m pip install numpy scipy tqdm
```

### オプション（推奨）

```bash
py -3 -m pip install torch tkinterdnd2
```

### 2. 起動方法

#### GUI モード（推奨）
```bash
run_integrated_nkat_gui.bat
```

または

```bash
py -3 run_integrated_nkat_system.py
```

#### CUI モード
```bash
py -3 integrated_nkat_gguf_system.py
```

## 使用方法

### 1. ファイル追加
- **ドラッグ&ドロップ**: GGUFファイルをファイルリストにドロップ
- **ファイル追加ボタン**: ファイルダイアログで選択
- **複数選択**: Ctrl+クリックで複数ファイル選択可能

### 2. プリセット設定

#### デフォルトプリセット
- `default`: バランス型設定
- `high_quality`: 高品質処理（処理時間長）
- `fast_processing`: 高速処理（品質標準）
- `experimental`: 実験的設定（最新機能）

#### カスタムプリセット作成
1. 設定タブで各パラメータを調整
2. プリセット保存ボタンをクリック
3. 名前を入力して保存

### 3. 主要設定項目

#### 基本設定
- **KA演算子**: コルモゴロフ・アーノルド演算子の有効化
- **非可換強度**: 非可換代数変換の強度 (0.0-1.0)
- **コルモゴロフ強度**: コルモゴロフ理論適用強度 (0.0-1.0)
- **最大ランク**: テンソル分解の最大ランク
- **64bit精度**: 高精度計算モード

#### 高度な設定
- **CUDA加速**: GPU加速の有効化
- **最大スレッド数**: 並列処理スレッド数
- **バックアップディレクトリ**: バックアップ保存先
- **最大バックアップ数**: 保持するバックアップファイル数

### 4. 処理実行
1. ファイルを追加
2. 設定を調整（またはプリセット選択）
3. 出力ディレクトリを指定
4. **処理開始**ボタンをクリック

### 5. 結果確認
- **結果タブ**: 処理ログと統計情報を表示
- **出力ディレクトリ**: 拡張されたGGUFファイルを確認
- **バックアップフォルダ**: 元ファイルのバックアップを確認

## ファイル構成

```
統合NKAT_システム/
├── integrated_nkat_gguf_system.py    # メインシステム
├── integrated_gui.py                  # GUI インターフェース
├── run_integrated_nkat_system.py     # 起動スクリプト
├── run_integrated_nkat_gui.bat       # Windows起動バッチ
├── integrated_nkat_config.json       # 設定ファイル
├── nkat_presets.json                 # プリセットファイル
├── settings.ini                      # ファイル位置記憶
├── backups/                          # 自動バックアップ
└── output/                           # 処理結果出力
```

## 技術仕様

### コルモゴロフ理論統合
- **非可換代数**: パウリ行列ベースの生成子
- **微分幾何学**: 勾配フローと曲率補正
- **テンソル分解**: 適応的低ランク近似
- **量子化対応**: 8bit/16bit量子化準備

### NKAT拡張
- **64bit精度**: 倍精度浮動小数点計算
- **CUDA最適化**: GPU並列計算対応
- **メモリ効率**: 大容量ファイル対応
- **エラー回復**: 処理中断時の自動復旧

## トラブルシューティング

### 依存関係エラー
```bash
# numpy/scipyエラー
py -3 -m pip install --upgrade numpy scipy

# CUDA関連エラー  
py -3 -m pip install torch --index-url https://download.pytorch.org/whl/cu118
```

### メモリ不足
- **最大ランク**を小さく設定（4-8）
- **バッチサイズ**を削減
- **64bit精度**を無効化

### 処理速度改善
- **CUDA加速**を有効化
- **最大スレッド数**を増加
- **fast_processing**プリセットを使用

### バックアップ管理
- 定期的に`backups/`フォルダをクリーンアップ
- **最大バックアップ数**を適切に設定
- ディスク容量を定期監視

## 更新履歴

### v1.0 (2024)
- 3システムの完全統合
- GUI ドラッグ&ドロップ対応
- 自動バックアップシステム
- プリセット自動管理
- ファイル位置記憶機能
- CUDA最適化強化
- 電源断リカバリー実装

## ライセンス

本システムは研究・教育目的での使用を前提としています。
商用利用については開発者にお問い合わせください。

## サポート

技術的な質問や不具合報告は、プロジェクトのIssueページまでお願いします。

---

**統合NKAT GGUFシステム開発チーム** 